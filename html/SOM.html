<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>Sprite3D.js SOM</title>
		<style>
html,body{height: 100%}

body {
	backgroud-color: black;
	color: white;
	margin: 0px;
	padding: 0px;
	overflow: hidden;
}

.cell {
	background-color: black;
	width: 50px;
	height: 50px;
}

.info {
//	background-color: black;
	border-color: black;
	border-style: solid;
	border-width: 1px;
	width: 200px;
	height: 320px;
}
	</style>
	<script src="../js/lib/Sprite3D.js" type="text/javascript"></script>
	<script type="text/javascript">

var stage,container,info,t=0;

var CELL = {LENGTH: 50, NUM: 10};
CELL.DELTA = -1 * CELL.LENGTH * (CELL.NUM - 1) / 2;

function init(){
	//create root container 
	stage = Sprite3D.createCenteredContainer();

	//create object container
	container = new Sprite3D().setZ(-00).rotateX(-00).update();
	stage.addChild( container );

	//create object and add contaqiner
	var i = 0;
	var j = 0 ;
	for ( i = 0 ; i < CELL.NUM ; i++ ){
		for (j = 0 ; j < CELL.NUM ; j++ ){
		
			container.addChild(
				new Sprite3D()
					.setClassName("cell")
					.setPosition(CELL.DELTA + i* CELL.LENGTH, CELL.DELTA + j* CELL.LENGTH,0)
					.setRegistrationPoint(50/2,50/2,0)
					.setProperty("v",i)
					.setProperty("h",j)
					.setCSS("background-color", rand_color() )
					.update()
			);
	
	}};
	
	info = 	new Sprite3D()
			.setPosition(-400,0,0)
			.setRegistrationPoint(200/2,320/2,0)
			.setClassName("info")
			.update();

	
	stage.addChild( info );

	info.addChild(
		new Sprite3D()
			.setClassName("cell")
			.setPosition(10,10,0)
//			.setRegistrationPoint(50/2,50/2,0)
			.setCSS("background-color", rand_color() )
			.update()
	);


	setInterval( move, 1000/40 );
}

function move(){
	t += .05;

	container
//		.setRotationZ(t*100)
		.update();
		
	info.update();
	
	if (t  >=  1) {
		var bc = "background-color";
		container.children[0].setCSS(bc,rand_color() );
		t = 0;
	}
	
}

function rand_color(){
	var r = Math.floor( Math.random() * 256).toString(16);
	var g = Math.floor( Math.random() * 256).toString(16);
	var b = Math.floor( Math.random() * 256).toString(16);
	return "#" + r + g + b;
}
	</script>
	</head>
	<body onload="init();">
		
	</body>
</html>
