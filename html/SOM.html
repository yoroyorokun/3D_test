<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>Sprite3D.js tutorial</title>
		<style>
html,body{height: 100%}

body {
	backgroud-color: black;
	color: white;
	margin: 0px;
	padding: 0px;
	overflow: hidden;
}

.cell {
	background-color: black;
	width: 7px;
	height: 7px;
}
	</style>
	<script src="../js/lib/Sprite3D.js" type="text/javascript"></script>
	<script type="text/javascript">

var stage,container,t=0;

var CELL = {LENGTH: 10, NUM: 50, DELTA: -10*(50-1)/2};

function init(){
	//create root container 
	stage = Sprite3D.createCenteredContainer();

	//create object container
	container = new Sprite3D().setZ(-00).rotateX(-00).update();
	stage.addChild( container );

	//create object and add contaqiner
	var i = 0;
	var j = 0 ;
	for ( i = 0 ; i < CELL.NUM ; i++ ){
		for (j = 0 ; j < CELL.NUM ; j++ ){
		
			container.addChild(
				new Sprite3D()
					.setClassName("cell")
					.setPosition(CELL.DELTA + i* CELL.LENGTH, CELL.DELTA + j* CELL.LENGTH,0)
					.setRegistrationPoint(50/2,50/2,0)
					.setProperty("vertical",1)
					.update()
			);
	
	}};
			

	setInterval( move, 1000/40 );
}

function move(){
	t += .05;

	container
	//	.setRotationZ(t*100)
		.update();
	
	if (t  >=  3.6) {
		var bc = "background-color"
		var r = Math.floor( Math.random() * 256).toString(16);
		var g = Math.floor( Math.random() * 256).toString(16);
		var b = Math.floor( Math.random() * 256).toString(16);
		var color = "#" + r + g + b;
		container.children[0].setCSS(bc,color);
		t = 0;
	}
	
}
	</script>
	</head>
	<body onload="init();">
		
	</body>
</html>
